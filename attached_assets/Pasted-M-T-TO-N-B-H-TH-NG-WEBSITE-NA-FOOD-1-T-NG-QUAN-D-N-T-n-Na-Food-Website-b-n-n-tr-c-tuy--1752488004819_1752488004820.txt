MÃ” Táº¢ TOÃ€N Bá»˜ Há»† THá»NG WEBSITE NA FOOD
1. Tá»”NG QUAN Dá»° ÃN
TÃªn: Na Food â€“ Website bÃ¡n Ä‘á»“ Äƒn trá»±c tuyáº¿n

Kiáº¿n trÃºc: SPA (Single Page Application)

CÃ´ng nghá»‡:

Frontend: HTML, CSS, JavaScript thuáº§n (Vanilla JS)

Backend: Node.js (Express.js)

CÆ¡ sá»Ÿ dá»¯ liá»‡u: MongoDB

Authentication: JWT

Triá»ƒn khai: Docker + Docker Compose

2. PHÃ‚N QUYá»€N NGÆ¯á»œI DÃ™NG
Vai trÃ² Quyá»n
User ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, tÃ¬m mÃ³n, Ä‘áº·t hÃ ng, thanh toÃ¡n, xem/há»§y Ä‘Æ¡n, Ä‘Ã¡nh giÃ¡ mÃ³n
Staff Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (xem, cáº­p nháº­t tráº¡ng thÃ¡i, xuáº¥t Ä‘Æ¡n)
Admin Táº¥t cáº£ quyá»n cá»§a Staff + quáº£n lÃ½ mÃ³n Äƒn, user, banner, thá»‘ng kÃª

3. CHá»¨C NÄ‚NG CHÃNH
âœ¨ NgÆ°á»i dÃ¹ng (index.html)
Xem danh sÃ¡ch mÃ³n Äƒn (lá»c, tÃ¬m kiáº¿m)

Chi tiáº¿t mÃ³n Äƒn + Ä‘Ã¡nh giÃ¡

Giá» hÃ ng, thanh toÃ¡n vá»›i nhiá»u phÆ°Æ¡ng thá»©c:

COD

Chuyá»ƒn khoáº£n

VÃ­ Ä‘iá»‡n tá»­

Quáº£n lÃ½ Ä‘Æ¡n hÃ ng Ä‘Ã£ Ä‘áº·t (xem chi tiáº¿t, há»§y náº¿u chÆ°a giao)

ÄÃ¡nh giÃ¡ mÃ³n Äƒn sau khi Ä‘Æ¡n giao

ğŸ” ÄÄƒng kÃ½ / ÄÄƒng nháº­p (JWT)
ÄÄƒng kÃ½: tÃªn, email, password

ÄÄƒng nháº­p: xÃ¡c thá»±c JWT, lÆ°u vÃ o localStorage

PhÃ¢n quyá»n ngay sau login

ğŸ›’ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin/Staff)
Xem danh sÃ¡ch Ä‘Æ¡n hÃ ng, chi tiáº¿t Ä‘Æ¡n

Cáº­p nháº­t tráº¡ng thÃ¡i:

Chá» xá»­ lÃ½ â†’ Äang giao â†’ ÄÃ£ giao

Há»§y Ä‘Æ¡n

Xuáº¥t Ä‘Æ¡n PDF / Xuáº¥t táº¥t cáº£ Ä‘Æ¡n CSV

XÃ³a Ä‘Æ¡n hÃ ng

ğŸ½ Quáº£n lÃ½ mÃ³n Äƒn (Admin)
ThÃªm/Sá»­a/XÃ³a mÃ³n Äƒn

Lá»c theo danh má»¥c

Quáº£n lÃ½ thÃ´ng tin: tÃªn, mÃ´ táº£, áº£nh, giÃ¡, loáº¡i mÃ³n

ğŸ‘¥ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (Admin)
Danh sÃ¡ch ngÆ°á»i dÃ¹ng

Äá»•i vai trÃ² (user â†” staff â†” admin)

KhÃ³a / má»Ÿ tÃ i khoáº£n

ğŸ’¬ Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡ mÃ³n Äƒn (Admin)
Duyá»‡t, áº©n, hoáº·c xÃ³a Ä‘Ã¡nh giÃ¡

Review Ä‘Æ°á»£c hiá»ƒn thá»‹ á»Ÿ chi tiáº¿t mÃ³n

ğŸ–¼ Quáº£n lÃ½ banner (Admin)
ThÃªm, sá»­a, xÃ³a banner quáº£ng cÃ¡o

Sáº¯p xáº¿p thá»© tá»± hiá»ƒn thá»‹ banner trang chá»§

ğŸ“Š Thá»‘ng kÃª há»‡ thá»‘ng (Admin)
Doanh thu theo ngÃ y / thÃ¡ng

Top sáº£n pháº©m bÃ¡n cháº¡y

Tá»•ng sá»‘ Ä‘Æ¡n theo tráº¡ng thÃ¡i

Hiá»ƒn thá»‹ biá»ƒu Ä‘á»“ doanh thu

4. Cáº¤U TRÃšC THÆ¯ Má»¤C FRONTEND
pgsql
Copy
Edit
frontend/
â”œâ”€â”€ index.html
â”œâ”€â”€ admin.html
â”œâ”€â”€ assets/
â”‚ â”œâ”€â”€ css/
â”‚ â”‚ â”œâ”€â”€ index/
â”‚ â”‚ â”‚ â”œâ”€â”€ header.css
â”‚ â”‚ â”‚ â”œâ”€â”€ products.css
â”‚ â”‚ â”‚ â”œâ”€â”€ detail.css
â”‚ â”‚ â”‚ â”œâ”€â”€ cart.css
â”‚ â”‚ â”‚ â”œâ”€â”€ checkout.css
â”‚ â”‚ â”‚ â”œâ”€â”€ orders.css
â”‚ â”‚ â”‚ â”œâ”€â”€ auth.css
â”‚ â”‚ â”‚ â”œâ”€â”€ review.css
â”‚ â”‚ â”‚ â””â”€â”€ payment.css
â”‚ â”‚ â”œâ”€â”€ admin/
â”‚ â”‚ â”‚ â”œâ”€â”€ dashboard.css
â”‚ â”‚ â”‚ â”œâ”€â”€ product.css
â”‚ â”‚ â”‚ â”œâ”€â”€ order.css
â”‚ â”‚ â”‚ â”œâ”€â”€ user.css
â”‚ â”‚ â”‚ â”œâ”€â”€ review.css
â”‚ â”‚ â”‚ â”œâ”€â”€ banner.css
â”‚ â”‚ â”‚ â”œâ”€â”€ report.css
â”‚ â”‚ â”‚ â”œâ”€â”€ export.css
â”‚ â”‚ â”‚ â””â”€â”€ login.css
â”‚ â”œâ”€â”€ js/
â”‚ â”‚ â”œâ”€â”€ index/
â”‚ â”‚ â”‚ â”œâ”€â”€ header.js
â”‚ â”‚ â”‚ â”œâ”€â”€ products.js
â”‚ â”‚ â”‚ â”œâ”€â”€ detail.js
â”‚ â”‚ â”‚ â”œâ”€â”€ cart.js
â”‚ â”‚ â”‚ â”œâ”€â”€ checkout.js
â”‚ â”‚ â”‚ â”œâ”€â”€ orders.js
â”‚ â”‚ â”‚ â”œâ”€â”€ auth.js
â”‚ â”‚ â”‚ â”œâ”€â”€ review.js
â”‚ â”‚ â”‚ â””â”€â”€ payment.js
â”‚ â”‚ â”œâ”€â”€ admin/
â”‚ â”‚ â”‚ â”œâ”€â”€ dashboard.js
â”‚ â”‚ â”‚ â”œâ”€â”€ product.js
â”‚ â”‚ â”‚ â”œâ”€â”€ order.js
â”‚ â”‚ â”‚ â”œâ”€â”€ user.js
â”‚ â”‚ â”‚ â”œâ”€â”€ review.js
â”‚ â”‚ â”‚ â”œâ”€â”€ banner.js
â”‚ â”‚ â”‚ â”œâ”€â”€ report.js
â”‚ â”‚ â”‚ â”œâ”€â”€ export.js
â”‚ â”‚ â”‚ â””â”€â”€ login.js
â”‚ â”‚ â””â”€â”€ utils.js
5. Cáº¤U TRÃšC THÆ¯ Má»¤C BACKEND
pgsql
Copy
Edit
backend/
â”œâ”€â”€ config/
â”‚ â””â”€â”€ db.js
â”œâ”€â”€ controllers/
â”‚ â”œâ”€â”€ authController.js
â”‚ â”œâ”€â”€ productController.js
â”‚ â”œâ”€â”€ orderController.js
â”‚ â”œâ”€â”€ userController.js
â”‚ â”œâ”€â”€ reviewController.js
â”‚ â”œâ”€â”€ bannerController.js
â”‚ â””â”€â”€ statisticController.js
â”œâ”€â”€ middlewares/
â”‚ â”œâ”€â”€ authMiddleware.js
â”‚ â”œâ”€â”€ roleMiddleware.js
â”‚ â””â”€â”€ errorMiddleware.js
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ User.js
â”‚ â”œâ”€â”€ Product.js
â”‚ â”œâ”€â”€ Order.js
â”‚ â”œâ”€â”€ Review.js
â”‚ â””â”€â”€ Banner.js
â”œâ”€â”€ routes/
â”‚ â”œâ”€â”€ authRoutes.js
â”‚ â”œâ”€â”€ productRoutes.js
â”‚ â”œâ”€â”€ orderRoutes.js
â”‚ â”œâ”€â”€ userRoutes.js
â”‚ â”œâ”€â”€ reviewRoutes.js
â”‚ â”œâ”€â”€ bannerRoutes.js
â”‚ â””â”€â”€ statisticRoutes.js
â”œâ”€â”€ utils/
â”‚ â”œâ”€â”€ generateToken.js
â”‚ â”œâ”€â”€ exportPdf.js
â”‚ â””â”€â”€ exportCsv.js
â”œâ”€â”€ validators/
â”‚ â”œâ”€â”€ authValidator.js
â”‚ â”œâ”€â”€ productValidator.js
â”‚ â”œâ”€â”€ orderValidator.js
â”‚ â”œâ”€â”€ userValidator.js
â”‚ â”œâ”€â”€ reviewValidator.js
â”‚ â””â”€â”€ bannerValidator.js
â”œâ”€â”€ server.js
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ .env
â””â”€â”€ package.json
6. Cáº¤U HÃŒNH DOCKER
Dockerfile (backend)
dockerfile
Copy
Edit
FROM node:20-alpine

WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .

EXPOSE 5000
CMD ["node", "server.js"]
docker-compose.yml
yaml
Copy
Edit
version: "3.9"
services:
backend:
build: ./backend
ports:
- "5000:5000"
environment:
- MONGO_URI=mongodb://mongo:27017/nafood
depends_on:
- mongo
mongo:
image: mongo
ports:
- "27017:27017"
volumes:
- mongo-data:/data/db
volumes:
mongo-data:
7. API ENDPOINTS (Chuáº©n RESTful)
Method Endpoint Vai trÃ² Chá»©c nÄƒng
POST /auth/register Public ÄÄƒng kÃ½ tÃ i khoáº£n
POST /auth/login Public ÄÄƒng nháº­p
GET /products All Láº¥y danh sÃ¡ch mÃ³n
GET /products/:id All Chi tiáº¿t mÃ³n
POST /products Admin ThÃªm mÃ³n
PUT /products/:id Admin Sá»­a mÃ³n
DELETE /products/:id Admin XÃ³a mÃ³n
POST /orders User Äáº·t hÃ ng
GET /orders Admin/Staff Danh sÃ¡ch Ä‘Æ¡n
GET /orders/me User ÄÆ¡n cá»§a chÃ­nh user
PUT /orders/:id/status Admin/Staff Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n
PUT /orders/:id/cancel User Há»§y Ä‘Æ¡n
DELETE /orders/:id Admin XÃ³a Ä‘Æ¡n
GET /orders/export/pdf Admin Xuáº¥t Ä‘Æ¡n PDF
GET /orders/export/csv Admin Xuáº¥t CSV
GET /users Admin Láº¥y user
PUT /users/:id/role Admin Äá»•i role
POST /reviews User Gá»­i review
GET /reviews Admin Duyá»‡t review
DELETE /reviews/:id Admin XÃ³a review
POST /banners Admin ThÃªm banner
GET /banners All Xem banner
DELETE /banners/:id Admin XÃ³a banner
GET /statistics/revenue Admin Doanh thu
GET /statistics/top-products Admin Top mÃ³n Äƒn bÃ¡n cháº¡y
lÃ m pháº§n frontend trÆ°á»›c lÃ m html xong rá»“i lÃ m js káº¿t ná»‘i api cÃ¡c thá»© tháº¥y hoáº¡t Ä‘á»™ng háº¿t má»›i lÃ m bÃªn backend

